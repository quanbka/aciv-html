!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("Coveo")):"function"==typeof define&&define.amd?define(["Coveo"],t):"object"==typeof exports?exports.CoveoForSitecore=t(require("Coveo")):e.CoveoForSitecore=t(e.Coveo)}("undefined"!=typeof self?self:this,function(e){return function(e){function t(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n=window.webpackJsonpCoveoForSitecore;window.webpackJsonpCoveoForSitecore=function(t,i,o){for(var a,c,s=0,l=[];s<t.length;s++)c=t[s],r[c]&&l.push(r[c][0]),r[c]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a]);for(n&&n(t,i,o);l.length;)l.shift()()};var i={},r={15:0};return t.e=function(e){function n(){c.onerror=c.onload=null,clearTimeout(s);var t=r[e];0!==t&&(t&&t[1](new Error("Loading chunk "+e+" failed.")),r[e]=void 0)}var i=r[e];if(0===i)return new Promise(function(e){e()});if(i)return i[2];var o=new Promise(function(t,n){i=r[e]=[t,n]});i[2]=o;var a=document.getElementsByTagName("head")[0],c=document.createElement("script");c.type="text/javascript",c.charset="utf-8",c.async=!0,c.timeout=12e4,t.nc&&c.setAttribute("nonce",t.nc),c.src=t.p+""+({0:"CoveoForSitecoreRankingExpression",1:"CoveoForSitecoreFilterExpression",2:"CoveoForSitecoreExternalContent",3:"GoogleApiPositionProvider",4:"SendAnalyticsToSitecore",5:"CoveoForSitecoreSyntax",6:"CoveoForSitecoreLocalExpression",7:"CoveoForSitecoreExpressions",8:"StaticPositionProvider",9:"NavigatorPositionProvider",10:"CoveoForSitecoreBindWithUserContext",11:"ValidateAnalyticsIncluded",12:"CoveoForSitecoreConfigureSearchHub",13:"CoveoForSitecoreAnalytics"}[e]||e)+".min.js";var s=setTimeout(n,12e4);return c.onerror=c.onload=n,a.appendChild(c),o},t.m=e,t.c=i,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="js/",t.oe=function(e){throw console.error(e),e},t(t.s=60)}([function(t,n){t.exports=e},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.onSitecoreContextInitialization="onSitecoreContextInitialization",e}();t.SitecoreContextEvents=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(29),r=function(){function e(){}return e.registerPrebindHelper=function(e,t){this.processor.registerPrebindHelper(e,t)},e.getHelper=function(e){return this.processor.getHelper(e)},e.applyPrebindingOnElement=function(e){this.processor.hasNotAppliedPrebind(e)&&this.processor.applyToElement(e)},e.applyPrebindingOnChildren=function(e){var t=this;this.nodeListToArray(e.querySelectorAll("*")).map(function(e){return e}).filter(function(e){return t.processor.hasNotAppliedPrebind(e)}).forEach(function(e){return t.processor.applyToElement(e)})},e.nodeListToArray=function(e){for(var t=[],n=0,i=e.length;n<i;n++)t.push(e[n]);return t},e.processor=new i.PrebindResolver,e}();t.Prebinding=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(26),r=n(6),o=n(0),a=function(){function e(){}return e.configureContext=function(e){if(void 0===e||null===e)throw Error("You must execute `configureContext` with an HTML element.");var t=o.ComponentOptions.initComponentOptions(e,r.CoveoForSitecoreContext);this.initializeWithContextOptions(e,t)},e.initializeWithContextOptions=function(e,t){var n=new i.ContextInitializer,r=n.createFieldsHandler({externalFields:t.scExternalFields,prefix:t.scFieldPrefix,suffix:t.scFieldSuffix}),o=n.createLabelsHandler({labels:t.scLabels}),a=t.scIndexSourceName;n.initializePrebinding({fieldsHandler:r,context:t}),n.initializeUnderscoreFieldsHelpers(r),n.initializeUnderscoreLabelsHelpers(o),n.initializeUnderscoreContextHelpers(a),n.initializeContextElement(e),this.fields=r,this.labels=o,this.element=e},e}();t.Context=a},function(e,t,n){"use strict";function i(e){for(var t=[],n=0,i=e.length;n<i;n++)t.push(e.item(n));return t}Object.defineProperty(t,"__esModule",{value:!0}),t.nodeListToArray=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.onBuildingSitecoreExternalContent="onBuildingSitecoreExternalContent",e.onBuildingLocalSitecoreInstanceExpression="onBuildingLocalSitecoreInstanceExpression",e}();t.SitecoreExpressionEvents=i},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(1),a=function(e){function t(n,i,o){var a=e.call(this,n,t.ID,o)||this;return a.element=n,a.options=i,a.bindings=o,a.options=r.ComponentOptions.initComponentOptions(n,t,i),a.bind.onRootElement(r.InitializationEvents.afterComponentsInitialization,a.afterComponentsInitialization),a.bind.onRootElement(r.QueryEvents.doneBuildingQuery,a.doneBuildingQuery),a}return i(t,e),t.prototype.doneBuildingQuery=function(e){this.hasDefaultPipelineNameSet()&&this.queryBuilderUsesDefaultPipeline(e.queryBuilder)&&(e.queryBuilder.pipeline=this.options.scDefaultPipelineName)},t.prototype.hasDefaultPipelineNameSet=function(){return""!==this.options.scDefaultPipelineName},t.prototype.queryBuilderUsesDefaultPipeline=function(e){return void 0===e.pipeline},t.prototype.afterComponentsInitialization=function(){var e={sitecoreItemUri:this.options.scItemUri,sitecorePageName:this.options.scPageName,shouldHaveAnalyticsComponent:this.options.scShouldHaveAnalyticsComponent,analyticsEnabled:this.options.scAnalyticsEnabled,indexSourceName:this.options.scIndexSourceName,currentLanguage:this.options.scCurrentLanguage,languageFieldName:this.options.scLanguageFieldName,latestVersionFieldName:this.options.scLatestVersionFieldName,isEditing:this.options.scIsEditing};this.bind.trigger(this.element,o.SitecoreContextEvents.onSitecoreContextInitialization,e)},t.ID="ForSitecoreContext",t.options={scItemUri:r.ComponentOptions.buildStringOption(),scLanguageFieldName:r.ComponentOptions.buildStringOption(),scLatestVersionFieldName:r.ComponentOptions.buildStringOption(),scCurrentLanguage:r.ComponentOptions.buildStringOption(),scRestEndpointUri:r.ComponentOptions.buildStringOption(),scLabels:r.ComponentOptions.buildJsonOption(),scPageName:r.ComponentOptions.buildStringOption(),scDefaultPipelineName:r.ComponentOptions.buildStringOption(),scShouldHaveAnalyticsComponent:r.ComponentOptions.buildBooleanOption(),scAnalyticsEnabled:r.ComponentOptions.buildBooleanOption(),scIsUserAnonymous:r.ComponentOptions.buildBooleanOption(),scFieldPrefix:r.ComponentOptions.buildStringOption(),scFieldSuffix:r.ComponentOptions.buildStringOption(),scExternalFields:r.ComponentOptions.buildJsonOption(),scIndexSourceName:r.ComponentOptions.buildStringOption(),scIsEditing:r.ComponentOptions.buildBooleanOption(),scMaximumAge:r.ComponentOptions.buildNumberOption()},t}(r.Component);t.CoveoForSitecoreContext=a,r.Initialization.registerAutoCreateComponent(a)},function(e,t,n){"use strict";function i(e){return t.searchInterfaceInitializer.initSearchInterface(e)}function r(e){return t.searchInterfaceInitializer.initializeExperienceEditorHooksForSearchInterface(e),i(e)}function o(e,n,i){return t.searchboxInitializer.initSearchboxIfStandalone(e,n,i)}function a(e){p.ElementWithContextInitializer.initializeContextWithinElement(e)}function c(e){t.externalComponentInitializer.initializeExternalComponentSection(e)}function s(e){t.externalComponentInitializer.initializeExperienceEditorHooksForExternalComponentsSection(e),c(e)}Object.defineProperty(t,"__esModule",{value:!0});var l=n(44),u=n(45),d=n(47),p=n(10);t.searchInterfaceInitializer=new d.SearchInterfaceInitializer,t.searchboxInitializer=new u.SearchboxInitializer,t.externalComponentInitializer=new l.ExternalComponentInitializer,t.initSearchInterface=i,t.initializeSearchInterfaceForExperienceEditor=r,t.initSearchboxIfStandalone=o,t.initContextOnElement=a,t.initExternalComponentsSection=c,t.initExternalComponentsSectionForExperienceEditor=s},function(e,t,n){"use strict";function i(){return s}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=n(4),a=n(0),c=function(){function e(){}return e.prototype.loadComponentsForSearchInterface=function(e,t){var n=this;return r.Prebinding.applyPrebindingOnElement(t),r.Prebinding.applyPrebindingOnChildren(t),a.Initialization.automaticallyCreateComponentsInside(t,{bindings:e.getBindings(),options:{}}).initResult.then(function(){n.removeAllPlaceholdersWithinElement(t),e.queryController.executeQuery({ignoreWarningSearchEvent:!0})})},e.prototype.tryUnloadComponentsForSearchInterface=function(e,t){var n=this;o.nodeListToArray(t.getElementsByClassName("CoveoFacet")).forEach(function(t){var i=a.get(t,"CoveoFacet");i&&e.detachComponent("Facet",i),n.removeAllChildren(t)}),o.nodeListToArray(t.getElementsByClassName("CoveoTab")).forEach(function(t){var i=a.get(t,"CoveoTab");i&&e.detachComponent("Tab",i),n.removeAllChildren(t)})},e.prototype.removeAllPlaceholdersWithinElement=function(e){var t=this;o.nodeListToArray(e.getElementsByClassName("coveo-during-initialization")).forEach(function(e){return t.removePlaceholders(e)})},e.prototype.removePlaceholders=function(e){e.classList.remove("coveo-during-initialization"),e.classList.contains("CoveoFacet")&&this.removeFacetsPlaceholders(e)},e.prototype.removeFacetsPlaceholders=function(e){e.classList.remove("coveo-with-placeholder"),this.removeAllChildren(e)},e.prototype.removeAllChildren=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},e.prototype.loadComponentsWithSearchInterfaceInitialization=function(e,t){r.Prebinding.applyPrebindingOnElement(t),r.Prebinding.applyPrebindingOnChildren(t),Coveo.options(e,{externalComponents:[t]})},e}();t.SearchInterfaceComponentInitializer=c;var s=new c;t.getInitializerInstance=i},function(e,t,n){"use strict";function i(){return a}Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),o=function(){function e(){this.isAfterFrameLoadedOverriden=!1,this.isAfterPersonalizationChangedOverriden=!1,this.isBeforeUnloadingChromeOverriden=!1,this.onAfterFrameLoadedCallbacks=[],this.onAfterPersonalizationChanged=[],this.onBeforeUnloadingChrome=[]}return e.prototype.registerOnLoadRenderingFromUrl=function(e){this.tryOverrideSitecoreLoadRenderingFromUrl(),this.onAfterFrameLoadedCallbacks.push(e)},e.prototype.registerBeforeUnloadingChrome=function(e){this.tryOverrideOnUnloadingChrome(),this.onBeforeUnloadingChrome.push(e)},e.prototype.registerOnAfterPersonalizationChanged=function(e){this.tryOverrideSitecoreChromeTypesRenderingChangeCondition(),this.onAfterPersonalizationChanged.push(e)},e.prototype.isInBackgroundRendering=function(){return-1!==window.location.search.indexOf(e.isInBackgroundRenderingParameterName)},e.prototype.getComponentFromLoadRenderingFromUrlCallbackData=function(e){return document.getElementById(e.opening[0].id).nextElementSibling},e.prototype.tryOverrideSitecoreLoadRenderingFromUrl=function(){this.isAfterFrameLoadedOverriden||"undefined"==typeof Sitecore||this.overrideSitecoreLoadRenderingFromUrl()},e.prototype.overrideSitecoreLoadRenderingFromUrl=function(){var e=this,t=Sitecore.PageModes.ChromeTypes.Placeholder.prototype.insertRendering,n=function(t){e.onAfterFrameLoadedCallbacks.forEach(function(e){return e(t)})};Sitecore.PageModes.ChromeTypes.Placeholder.prototype.insertRendering=function(e){t.call(this,e),n(e)},this.isAfterFrameLoadedOverriden=!0},e.prototype.tryOverrideOnUnloadingChrome=function(){this.isBeforeUnloadingChromeOverriden||"undefined"==typeof Sitecore||(this.overrideSitecoreChromeChangeCondition(),this.isBeforeUnloadingChromeOverriden=!0)},e.prototype.overrideSitecoreChromeChangeCondition=function(){var e=this,t=Sitecore.PageModes.ChromeTypes.Rendering.prototype.changeCondition,n=function(t){e.onBeforeUnloadingChrome.forEach(function(e){return e(t)})};Sitecore.PageModes.ChromeTypes.Rendering.prototype.changeCondition=function(e,i,r){n(this.chrome.element[0]),t.apply(this,arguments)}},e.prototype.tryOverrideSitecoreChromeTypesRenderingChangeCondition=function(){this.isAfterPersonalizationChangedOverriden||"undefined"==typeof Sitecore||this.overrideSitecoreChromeTypesRenderingChangeCondition()},e.prototype.overrideSitecoreChromeTypesRenderingChangeCondition=function(){var e,t=this,n=Sitecore.PageModes.ChromeTypes.Rendering.prototype._startActivation,i=Sitecore.PageModes.ChromeTypes.Rendering.prototype._endActivation,r=function(e){t.onAfterPersonalizationChanged.forEach(function(t){return t(e)})},o=function(e){return t.isDifferentFirstLoadMarker(e)?e[2]:e[1]};Sitecore.PageModes.ChromeTypes.Rendering.prototype._startActivation=function(t,i){e=o(t),n.apply(this,arguments)},Sitecore.PageModes.ChromeTypes.Rendering.prototype._endActivation=function(t){i.apply(this,arguments),e&&r(e)},this.isAfterPersonalizationChangedOverriden=!0},e.prototype.isDifferentFirstLoadMarker=function(e){return e[1].nodeType===Node.TEXT_NODE},e.prototype.registerShowDebugInformationCallback=function(){window.scCoveoShowDebugInformation||(window.scCoveoShowDebugInformation=function(e){var t=r.nodeListToArray(document.getElementsByClassName("coveo-debug-information"));e?t.forEach(function(e){return e.classList.remove("coveo-debug-hidden")}):t.forEach(function(e){return e.classList.add("coveo-debug-hidden")}),Sitecore.PageModes.ChromeManager.resetChromes()})},e.isInBackgroundRenderingParameterName="sc_phk",e}();t.SitecoreExperienceEditor=o;var a=new o;t.getExperienceEditorInstance=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),r=n(3),o=function(){function e(){}return e.initializeContextWithinElement=function(e){r.Context.element&&e.appendChild(r.Context.element.cloneNode(!0)),i.Prebinding.applyPrebindingOnElement(e),i.Prebinding.applyPrebindingOnChildren(e)},e}();t.ElementWithContextInitializer=o},,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(27),r=n(28),o=n(2),a=n(30),c=n(0),s=function(){function e(){}return e.prototype.createFieldsHandler=function(e){var t=e.externalFields||[];return new i.CoveoFieldsHandler(t,e.prefix,e.suffix)},e.prototype.createLabelsHandler=function(e){var t=e.labels||{};return new r.CoveoLabelsHandler(t)},e.prototype.initializePrebinding=function(e){a.PrebindHelpers.getAllPrebindHelpers().forEach(function(t){o.Prebinding.registerPrebindHelper(t.name,t.getPrebind(e))})},e.prototype.initializeUnderscoreFieldsHelpers=function(e){c.TemplateHelpers.registerTemplateHelper("coveoFieldValue",function(t){return this.raw[e.toCoveo(t)]}),c.TemplateHelpers.registerTemplateHelper("coveoFieldName",function(t){return e.toCoveo(t)})},e.prototype.initializeUnderscoreLabelsHelpers=function(e){c.TemplateHelpers.registerTemplateHelper("translateLabel",function(t){return e.translate(t)})},e.prototype.initializeUnderscoreContextHelpers=function(e){c.TemplateHelpers.registerTemplateHelper("currentSourceName",function(){return e})},e.prototype.initializeContextElement=function(e){o.Prebinding.applyPrebindingOnElement(e)},e}();t.ContextInitializer=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t,n){this.externalFields=e,this.prefix=t,this.suffix=n,this.loadExternalFields(e),this.prefix=t,this.suffix=n}return e.prototype.toCoveo=function(e){if(this.isValidFieldName(e)){var t=e.toLowerCase(),n=this.stripCoveoFieldDelimiter(t),i=this.translateFieldName(n);return this.startsWithAt(e)?this.addCoveoFieldDelimiter(i):i}return console.error("Could not translate the '"+e+"' field to a Coveo field. Returning as is."),e},e.prototype.addCoveoFieldDelimiter=function(t){var n=t;return this.startsWithAt(t)||(n=(""+e.coveoFieldDelimiter+t).toLowerCase()),n},e.prototype.isCoveoFieldName=function(e){return this.isExternalField(e)||this.isDecorated(e)},e.prototype.isExternalField=function(e){var t=this;return this.externalFields.some(function(n){return n.fieldName.toLowerCase()===t.stripCoveoFieldDelimiter(e).toLowerCase()})},e.prototype.isDecorated=function(e){var t=this.prefix+"[\\w]+"+this.suffix;return new RegExp(t).test(this.stripCoveoFieldDelimiter(e))},e.prototype.loadExternalFields=function(e){var t=this;this.externalFields=e.map(function(e){return"string"==typeof e?{fieldName:e.toLowerCase(),shouldEscape:!1}:t.isExternalFieldConfig(e)?{fieldName:e.fieldName.toLowerCase(),shouldEscape:e.shouldEscape}:void console.error("Invalid external field '"+e+"'.")})},e.prototype.isValidFieldName=function(e){return void 0!==e&&""!==e},e.prototype.startsWithAt=function(t){return t[0]===e.coveoFieldDelimiter},e.prototype.stripCoveoFieldDelimiter=function(e){var t=e;return this.startsWithAt(e)&&(t=t.substr(1)),t},e.prototype.translateFieldName=function(e){var t=e;return this.shouldReplaceSpecialCharacters(e)&&(t=this.replaceSpecialCharacters(t)),this.shouldDecorate(e)&&(t=this.prefix+t+this.suffix),t},e.prototype.replaceSpecialCharacters=function(e){return e.split("").map(this.replaceSpecialCharacter.bind(this)).join("")},e.prototype.replaceSpecialCharacter=function(t){return t.match(e.nonSpecialCharacters)?t:this.escapeSpecialCharacter(t)},e.prototype.escapeSpecialCharacter=function(e){return"z"+e.charCodeAt(0)+"x"},e.prototype.shouldReplaceSpecialCharacters=function(e){var t=this.externalFields.filter(function(t){return t.fieldName.toLowerCase()===e.toLowerCase()});return!(t.length>0)||t[0].shouldEscape},e.prototype.shouldDecorate=function(e){return!this.externalFields.some(function(t){return t.fieldName.toLowerCase()===e.toLowerCase()})},e.prototype.isExternalFieldConfig=function(e){return void 0!==e&&void 0!==e.fieldName&&void 0!==e.shouldEscape},e.nonSpecialCharactersString="[a-wyA-WY0-9]",e.nonSpecialCharacters=new RegExp(e.nonSpecialCharactersString),e.coveoFieldDelimiter="@",e}();t.CoveoFieldsHandler=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this.labels=e}return e.prototype.translate=function(e){return this.labels[e]||e},e}();t.CoveoLabelsHandler=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this.prebindAppliedValue="appliedPrebind",this.helpers={}}return e.prototype.registerPrebindHelper=function(e,t){if("string"!=typeof e||""===e)throw"You must define a name for the prebind helper.";if(void 0===t||null===t)throw"You must define a handler for the prebind helper.";if(this.helpers.hasOwnProperty(e))return void console.warn("A prebind handler already exists for '"+e+"'. It will be ignored");this.helpers[e]=t},e.prototype.hasHelper=function(e){return this.helpers.hasOwnProperty(e)},e.prototype.getHelper=function(e){if(!this.hasHelper(e))throw"'"+e+"' has no registered helper.";return this.helpers[e]},e.prototype.hasNotAppliedPrebind=function(e){return"true"!==e.dataset[this.prebindAppliedValue]},e.prototype.applyToElement=function(e){var t=this;try{var n=this.getPrebindingAttributesForElement(e);n.length>0&&(e.dataset[this.prebindAppliedValue]="true"),n.forEach(function(n){return t.applyPrebindToElement(n,e)})}catch(t){console.warn("(CoveoForSitecore) prebinding failed on element.",e,t)}},e.prototype.getPrebindingAttributesForElement=function(e){var t=this;return this.getAllPrebindingAttributesNames(e).map(function(n){var i=e.dataset[n],r=t.lowerCaseFirstCharacter(t.removePrebindPrefix(n));return{attribute:r,attributeValue:e.dataset[r]||"",method:t.getHelper(i)}})},e.prototype.getAllPrebindingAttributesNames=function(e){var t=this;return Object.keys(e.dataset).filter(function(e){return t.stringStartsWithPrebindingString(e)}).filter(function(n){var i=e.dataset[n];return t.filterAndWarnNonExistingHelperName(i,e)})},e.prototype.stringStartsWithPrebindingString=function(t){return 0===t.lastIndexOf(e.prebindString)},e.prototype.filterAndWarnNonExistingHelperName=function(e,t){var n=this.hasHelper(e);return n||console.warn("(CoveoForSitecore) an unregistered prebinding '"+e+"' was set on the element. Register this method using Prebinding.registerPrebindHelper(\""+e+'", handler).',t),n},e.prototype.removePrebindPrefix=function(t){return t.substring(e.prebindString.length)},e.prototype.lowerCaseFirstCharacter=function(e){return e.charAt(0).toLowerCase()+e.slice(1)},e.prototype.applyPrebindToElement=function(e,t){t.dataset[e.attribute]=e.method(e.attributeValue,t)},e.prebindString="prebind",e}();t.PrebindResolver=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(31),r=n(32),o=n(33),a=n(34),c=n(35),s=n(36),l=n(37),u=n(38),d=n(40),p=function(){function e(){}return e.getAllPrebindHelpers=function(){return[new i.AnalyticsEnabledPrebind,new r.CoveoForSitecoreAnalyticsEndpointPrebind,new o.CurrentMaximumAge,new a.CurrentPageNamePrebind,new c.FieldTranslatorPrebind,new s.IsAnonymousPrebind,new l.MainSearchInterfaceSelectorPrebind,new u.SortCriteriaPrebind,new d.UnfoldDictionaryToAttributesPrebind]},e}();t.PrebindHelpers=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this.name="analyticsEnabled"}return e.prototype.getPrebind=function(e){return function(t,n){return e.context.scAnalyticsEnabled?"true":"false"}},e}();t.AnalyticsEnabledPrebind=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this.name="coveoForSitecoreAnalyticsEndpoint"}return e.prototype.getPrebind=function(e){return function(t,n){return t||e.context.scRestEndpointUri+"/coveoanalytics"}},e}();t.CoveoForSitecoreAnalyticsEndpointPrebind=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this.name="currentMaximumAge"}return e.prototype.getPrebind=function(e){return function(t,n){return t||e.context.scMaximumAge.toString()}},e}();t.CurrentMaximumAge=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this.name="currentPageName"}return e.prototype.getPrebind=function(e){return function(t,n){return t||e.context.scPageName}},e}();t.CurrentPageNamePrebind=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this.name="fieldTranslator"}return e.prototype.getPrebind=function(e){return function(t,n){return e.fieldsHandler.toCoveo(t)}},e}();t.FieldTranslatorPrebind=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this.name="isAnonymous"}return e.prototype.getPrebind=function(e){return function(t,n){return e.context.scIsUserAnonymous?"true":"false"}},e}();t.IsAnonymousPrebind=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=function(){function e(){this.name="mainSearchInterfaceSelector",this.resolvers=[new c,new o,new a,new s]}return e.prototype.getPrebind=function(e){var t=this;return function(e,n){return t.getFirstValidResolver(e,n).getValue(e,n)}},e.prototype.getFirstValidResolver=function(e,t){var n;do{if(0===this.resolvers.length){var i="Could not resolve the search interface element using the current resolver. Ensure that a valid value is set.";throw console.error(i,{mainSearchInterfaceId:e,element:t}),i}n=this.resolvers.shift()}while(!n.canResolve(e,t));return n},e}();t.MainSearchInterfaceSelectorPrebind=r;var o=function(){function e(){}return e.prototype.canResolve=function(e){return this.isMainSearchInterfaceDefined(e)&&this.isIdSelectorValid("#"+e)},e.prototype.getValue=function(e){return"#"+e},e.prototype.isMainSearchInterfaceDefined=function(e){return!!e},e.prototype.isIdSelectorValid=function(e){return null!==document.querySelector(e)},e}(),a=function(){function e(){}return e.prototype.canResolve=function(e,t){return null!==this.getValue(e,t)},e.prototype.getValue=function(e,t){return void 0===this.foundId&&(this.foundId=this.tryFindParentSearchInterfaceFromElement(t)),this.foundId},e.prototype.tryFindParentSearchInterfaceFromElement=function(e){var t=this.findParentWithClass(e,"Coveo"+i.SearchInterface.ID);return t?"#"+t.id:null},e.prototype.findParentWithClass=function(e,t){for(var n=e.parentElement;(n=n.parentElement)&&!n.classList.contains(t););return n},e}(),c=function(){function e(){}return e.prototype.canResolve=function(e,t){return!!e&&this.isStartingWithSelectorCharacter(e)},e.prototype.getValue=function(e,t){return e},e.prototype.isStartingWithSelectorCharacter=function(e){return-1!==[".","#"].indexOf(e[0])},e}(),s=function(){function e(){}return e.prototype.canResolve=function(e,t){return!0},e.prototype.getValue=function(e,t){return e},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(39),r=function(){function e(){this.name="sortCriteriaResolver"}return e.prototype.getPrebind=function(e){var t=new i.SortCriteriaResolver(e.fieldsHandler);return function(e,n){var i=JSON.parse(e);if(0===Object.keys(i).length)return null;var r=(i.type||"relevancy").toLowerCase(),o=(i.direction||"ascending").toLowerCase(),a="true"===(n.dataset.scEnableDirectionToggle||"false").toLowerCase();if("relevancy"===r)return t.resolveRelevancyCriteria();if("date"===r)return t.resolveDateCriteria(o,a);var c=i.field;return t.resolveFieldCriteria(c,o,a)}},e}();t.SortCriteriaPrebind=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this.fieldsHandler=e}return e.prototype.resolveFieldCriteria=function(e,t,n){var i="@"!==e.charAt(0)?"@"+e:e;return this.getFieldCriteria(this.fieldsHandler.toCoveo(i),t,n)},e.prototype.resolveDateCriteria=function(e,t){return this.getFieldCriteria("date",e,t)},e.prototype.resolveRelevancyCriteria=function(){return"relevancy"},e.prototype.getFieldCriteria=function(e,t,n){return n?this.getFieldWithDirection(e,t)+", "+this.getFieldWithDirection(e,this.getInvertedDirection(t)):this.getFieldWithDirection(e,t)},e.prototype.getFieldWithDirection=function(e,t){return e+" "+t},e.prototype.getInvertedDirection=function(e){return"descending"===e?"ascending":"descending"},e}();t.SortCriteriaResolver=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this.name="unfoldDictionaryToAttributesPrebind"}return e.prototype.getPrebind=function(e){return function(t,n){var i=JSON.parse(t);return Object.keys(i).forEach(function(t){var r=e.fieldsHandler.toCoveo(t),o="field"+r.charAt(0).toUpperCase()+r.slice(1);n.dataset[o]=i[t]}),t}},e}();t.UnfoldDictionaryToAttributesPrebind=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1);t.SitecoreContextEvents=i.SitecoreContextEvents;var r=n(5);t.SitecoreExpressionEvents=r.SitecoreExpressionEvents},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3);t.Context=i.Context;var r=n(2);t.Prebinding=r.Prebinding;var o=n(43);t.SearchEndpoint=o.SearchEndpoint},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=function(){function e(){}return e.configureSitecoreEndpoint=function(t){if(void 0===t)throw Error("You must define endpoint options when calling 'configureSitecoreEndpoint'.");i.SearchEndpoint.endpoints.default=e.createNewEndpoint(t)},e.createNewEndpoint=function(e){return new i.SearchEndpoint({restUri:e.restEndpointUri||"/coveo/rest",queryStringArguments:{sitecoreItemUri:e.itemUri,siteName:e.siteName}})},e}();t.SearchEndpoint=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(8),r=n(9),o=n(0),a=function(){function e(e,t){void 0===e&&(e=r.getExperienceEditorInstance()),void 0===t&&(t=i.getInitializerInstance()),this.experienceEditor=e,this.searchInterfaceComponentInitializer=t}return e.prototype.initializeExternalComponentSection=function(e){var t=this.findSearchInterfaceForSection(e);t&&this.searchInterfaceComponentInitializer.loadComponentsWithSearchInterfaceInitialization(t,e)},e.prototype.initializeExperienceEditorHooksForExternalComponentsSection=function(e){var t=this,n=this.findSearchInterfaceForSection(e);n&&this.experienceEditor.registerOnLoadRenderingFromUrl(function(i){var r=t.experienceEditor.getComponentFromLoadRenderingFromUrlCallbackData(i);e.contains(r)&&t.searchInterfaceComponentInitializer.loadComponentsForSearchInterface(o.get(n,o.SearchInterface),r)})},e.prototype.findSearchInterfaceForSection=function(e){var t=e.dataset.searchInterfaceId,n=document.getElementById(t);if(n)return n;console.warn("Could not find the search interface element with the following ID: "+t+'. Validate "data-search-interface-id" on the external components section element.',e)},e}();t.ExternalComponentInitializer=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(46),r=n(10),o=n(0),a=function(){function e(){this.searchInterfacesProvider=new i.SearchInterfacesProvider}return e.prototype.initSearchboxIfStandalone=function(e,t,n){var i=this,a=this.searchInterfacesProvider.getSearchInterfacesInPage(["Recommendation","SearchInterface"]);return this.waitForSearchInterfacesInitialization(a).then(function(){i.searchboxElementIsNotInitialized(e)&&(t?(r.ElementWithContextInitializer.initializeContextWithinElement(e),o.initSearchbox(e.parentElement,t,n)):console.warn('The search box is not included in any search interface and the "searchPageUri" parameters is not specified. Consider using a Global Searchbox instead.',e))})},e.prototype.searchboxElementIsNotInitialized=function(e){return void 0===o.get(e,Coveo.Searchbox)},e.prototype.waitForSearchInterfacesInitialization=function(e){return Promise.all(this.getAllSearchInterfacesAfterComponentInitialization(e)).then(function(){})},e.prototype.getAllSearchInterfacesAfterComponentInitialization=function(e){var t=this;return e.map(function(e){return o.$$(e)}).map(function(e){return t.waitForSearchInterfaceInitialization(e)})},e.prototype.waitForSearchInterfaceInitialization=function(e){return new Promise(function(t,n){e.on(o.InitializationEvents.afterComponentsInitialization,function(){return t()})})},e}();t.SearchboxInitializer=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=n(4),o=function(){function e(){}return e.prototype.getSearchInterfacesInPage=function(e){var t=this.getSearchInterfacesSelectorFromComponentIds(e),n=document.querySelectorAll(t);return r.nodeListToArray(n)},e.prototype.getSearchInterfacesSelectorFromComponentIds=function(e){return e.map(function(e){return i.Component.computeSelectorForType(e)}).join(", ")},e}();t.SearchInterfacesProvider=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(7),r=n(8),o=n(9),a=n(0),c=function(){function e(e,t){void 0===e&&(e=o.getExperienceEditorInstance()),void 0===t&&(t=r.getInitializerInstance()),this.experienceEditor=e,this.searchInterfaceComponentInitializer=t}return e.prototype.initSearchInterface=function(e){if(!this.experienceEditor.isInBackgroundRendering())return this.experienceEditor.registerShowDebugInformationCallback(),i.initContextOnElement(e),a.init(e)},e.prototype.initializeExperienceEditorHooksForSearchInterface=function(e){var t=this;this.experienceEditor.registerOnLoadRenderingFromUrl(function(n){var i=t.experienceEditor.getComponentFromLoadRenderingFromUrlCallbackData(n);if(e.contains(i)){var r=Coveo.get(e,Coveo.SearchInterface);t.searchInterfaceComponentInitializer.loadComponentsForSearchInterface(r,i)}}),this.experienceEditor.registerOnAfterPersonalizationChanged(function(n){if(e.contains(n)){var i=Coveo.get(e,Coveo.SearchInterface);t.searchInterfaceComponentInitializer.loadComponentsForSearchInterface(i,n)}}),this.experienceEditor.registerBeforeUnloadingChrome(function(n){if(e.contains(n)){var i=Coveo.get(e,Coveo.SearchInterface);t.searchInterfaceComponentInitializer.tryUnloadComponentsForSearchInterface(i,n)}})},e}();t.SearchInterfaceInitializer=c},,,,,,,,,,,,,function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);n.p=r.PublicPathUtils.getDynamicPublicPath();var o=n(6);t.CoveoForSitecoreContext=o.CoveoForSitecoreContext,n(61).lazyCoveoForSitecoreAnalytics(),n(62).lazyCoveoForSitecoreConfigureSearchHub(),n(63).lazyCoveoSendAnalyticsToSitecore(),n(64).lazyValidateAnalyticsIncluded(),n(65).lazyCoveoForSitecoreBindWithUserContext(),n(66).lazyCoveoForSitecoreExpressions(),n(67).lazyCoveoForSitecoreSyntax(),n(68).lazyCoveoForSitecoreRankingExpression(),n(69).lazyCoveoForSitecoreExternalContent(),n(70).lazyCoveoForSitecoreFilterExpression(),n(71).lazyCoveoForSitecoreLocalExpression(),n(72).lazyCoveoGoogleApiPositionProvider(),n(73).lazyCoveoNavigatorPositionProvider(),n(74).lazyCoveoStaticPositionProvider(),i(n(41)),i(n(42)),i(n(7))},function(e,t,n){"use strict";function i(){r.LazyInitialization.registerLazyComponent("ForSitecoreAnalytics",function(){return new Promise(function(e,t){n.e(13).then(function(){var t=n(12).CoveoForSitecoreAnalytics;e(t)}.bind(null,n)).catch(r.LazyInitialization.buildErrorCallback("CoveoForSitecoreAnalytics",e))})})}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.lazyCoveoForSitecoreAnalytics=i},function(e,t,n){"use strict";function i(){r.LazyInitialization.registerLazyComponent("ForSitecoreConfigureSearchHub",function(){return new Promise(function(e,t){n.e(12).then(function(){var t=n(13).CoveoForSitecoreConfigureSearchHub;e(t)}.bind(null,n)).catch(r.LazyInitialization.buildErrorCallback("CoveoForSitecoreConfigureSearchHub",e))})})}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.lazyCoveoForSitecoreConfigureSearchHub=i},function(e,t,n){"use strict";function i(){r.LazyInitialization.registerLazyComponent("SendAnalyticsToSitecore",function(){return new Promise(function(e,t){n.e(4).then(function(){var t=n(14).SendAnalyticsToSitecore;e(t)}.bind(null,n)).catch(r.LazyInitialization.buildErrorCallback("SendAnalyticsToSitecore",e))})})}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.lazyCoveoSendAnalyticsToSitecore=i},function(e,t,n){"use strict";function i(){r.LazyInitialization.registerLazyComponent("ValidateAnalyticsIncluded",function(){return new Promise(function(e,t){n.e(11).then(function(){var t=n(15).ValidateAnalyticsIncluded;e(t)}.bind(null,n)).catch(r.LazyInitialization.buildErrorCallback("ValidateAnalyticsIncluded",e))})})}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.lazyValidateAnalyticsIncluded=i},function(e,t,n){"use strict";function i(){r.LazyInitialization.registerLazyComponent("ForSitecoreBindWithUserContext",function(){return new Promise(function(e,t){n.e(10).then(function(){var t=n(16).CoveoForSitecoreBindWithUserContext;e(t)}.bind(null,n)).catch(r.LazyInitialization.buildErrorCallback("CoveoForSitecoreBindWithUserContext",e))})})}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.lazyCoveoForSitecoreBindWithUserContext=i},function(e,t,n){"use strict";function i(){r.LazyInitialization.registerLazyComponent("ForSitecoreExpressions",function(){return new Promise(function(e,t){n.e(7).then(function(){var t=n(17).CoveoForSitecoreExpressions;e(t)}.bind(null,n)).catch(r.LazyInitialization.buildErrorCallback("CoveoForSitecoreExpressions",e))})})}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.lazyCoveoForSitecoreExpressions=i},function(e,t,n){"use strict";function i(){r.LazyInitialization.registerLazyComponent("ForSitecoreSyntax",function(){return new Promise(function(e,t){n.e(5).then(function(){var t=n(18).CoveoForSitecoreSyntax;e(t)}.bind(null,n)).catch(r.LazyInitialization.buildErrorCallback("CoveoForSitecoreSyntax",e))})})}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.lazyCoveoForSitecoreSyntax=i},function(e,t,n){"use strict";function i(){r.LazyInitialization.registerLazyComponent("ForSitecoreRankingExpression",function(){return new Promise(function(e,t){n.e(0).then(function(){var t=n(19).CoveoForSitecoreRankingExpression;e(t)}.bind(null,n)).catch(r.LazyInitialization.buildErrorCallback("CoveoForSitecoreRankingExpression",e))})})}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.lazyCoveoForSitecoreRankingExpression=i},function(e,t,n){"use strict";function i(){r.LazyInitialization.registerLazyComponent("ForSitecoreExternalContent",function(){return new Promise(function(e,t){n.e(2).then(function(){var t=n(20).CoveoForSitecoreExternalContent;e(t)}.bind(null,n)).catch(r.LazyInitialization.buildErrorCallback("CoveoForSitecoreExternalContent",e))})})}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.lazyCoveoForSitecoreExternalContent=i},function(e,t,n){"use strict";function i(){r.LazyInitialization.registerLazyComponent("ForSitecoreFilterExpression",function(){return new Promise(function(e,t){n.e(1).then(function(){var t=n(21).CoveoForSitecoreFilterExpression;e(t)}.bind(null,n)).catch(r.LazyInitialization.buildErrorCallback("CoveoForSitecoreFilterExpression",e))})})}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.lazyCoveoForSitecoreFilterExpression=i},function(e,t,n){"use strict";function i(){r.LazyInitialization.registerLazyComponent("ForSitecoreLocalExpression",function(){return new Promise(function(e,t){n.e(6).then(function(){var t=n(22).CoveoForSitecoreLocalExpression;e(t)}.bind(null,n)).catch(r.LazyInitialization.buildErrorCallback("CoveoForSitecoreLocalExpression",e))})})}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.lazyCoveoForSitecoreLocalExpression=i},function(e,t,n){"use strict";function i(){r.LazyInitialization.registerLazyComponent("GoogleApiPositionProvider",function(){return new Promise(function(e,t){n.e(3).then(function(){var t=n(23).GoogleApiPositionProvider;e(t)}.bind(null,n)).catch(r.LazyInitialization.buildErrorCallback("GoogleApiPositionProvider",e))})})}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.lazyCoveoGoogleApiPositionProvider=i},function(e,t,n){"use strict";function i(){r.LazyInitialization.registerLazyComponent("NavigatorPositionProvider",function(){return new Promise(function(e,t){n.e(9).then(function(){var t=n(24).NavigatorPositionProvider;e(t)}.bind(null,n)).catch(r.LazyInitialization.buildErrorCallback("NavigatorPositionProvider",e))})})}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.lazyCoveoNavigatorPositionProvider=i},function(e,t,n){"use strict";function i(){r.LazyInitialization.registerLazyComponent("StaticPositionProvider",function(){return new Promise(function(e,t){n.e(8).then(function(){var t=n(25).StaticPositionProvider;e(t)}.bind(null,n)).catch(r.LazyInitialization.buildErrorCallback("StaticPositionProvider",e))})})}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.lazyCoveoStaticPositionProvider=i}])});
//# sourceMappingURL=CoveoForSitecore.Lazy.min.js.map